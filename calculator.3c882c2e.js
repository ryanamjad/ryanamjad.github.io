import{_ as d,S as c,o as s,c as h,w as n,a as u,b as t,f as p,v as m,g as f,d as g,t as v,e as _,r as x}from"./calculator.js";const S={name:"PhoneVerification",data:function(){return{clientError:null,code:this.leadData.verificationCode,clientLoading:!1}},props:{loading:{type:Boolean,default:!1},serverError:{type:String,default:null},leadData:{type:Object}},mixins:[],components:{SlideTemplate:c},created(){},mounted(){},methods:{getPreviousSlide(){this.$emit("get-previous-slide")},getNextSlide(){this.clientError=null;const e={verificationCode:this.code};if(this.code!==null&&this.code.trim().length===4){this.clientLoading=!0,this.$emit("save",{payload:e,callback:this.handleSuccess.bind(this),reject:this.handleError.bind(this)});return}this.clientError="Please enter the code sent to your phone"},handleError(e){this.clientLoading=!1,this.clientError="Please enter the code sent to your phone"},handleSuccess(){this.clientLoading=!1,this.$emit("get-next-slide")}},computed:{error:function(){return this.serverError?this.serverError:this.clientError?this.clientError:null}},watch:{}},y={class:"px-5 md:px-6 flex justify-center"},E={class:"w-full"},b=t("h6",{class:"pb-2 text-grey-400 text-sm font-normal"},"Enter the code that has been sent to your phone",-1),N={class:"grid gap-4 grid-cols-1"},P={class:"cta-input-container"},V=["disabled"],w=t("label",{class:"cta-input-placeholder",for:"code"},"Verification number",-1),C={key:0,class:"mt-2 text-red-500"};function k(e,o,l,B,L,i){const a=x("slide-template");return s(),h(a,{onGoNextSlide:i.getNextSlide,onGoPreviousSlide:i.getPreviousSlide,"disable-previous-slide":!0,loading:e.clientLoading},{title:n(()=>[u(" Phone verification ")]),slot:n(()=>[t("div",y,[t("div",E,[b,t("div",N,[t("div",P,[p(t("input",{onKeyup:o[0]||(o[0]=f((...r)=>i.getNextSlide&&i.getNextSlide(...r),["enter"])),onChange:o[1]||(o[1]=r=>e.clientError=null),disabled:l.loading,type:"text",autocomplete:"one-time-code",placeholder:" ",name:"code",id:"code","onUpdate:modelValue":o[2]||(o[2]=r=>e.code=r),class:"cta-input form-control"},null,40,V),[[m,e.code]]),w])]),i.error?(s(),g("div",C,v(i.error),1)):_("",!0)])])]),_:1},8,["onGoNextSlide","onGoPreviousSlide","loading"])}const G=d(S,[["render",k]]);export{G as default};
